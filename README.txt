СБОРКА SQLITE БИБЛИОТЕКИ С ИСПОЛЬЗОВАНИЕМ DOCKER
===========================================

Данная инструкция описывает последовательность действий для создания Docker образа
и использования его для сборки библиотеки SQLite (.so) под Linux.

Предварительные требования:
---------------------------
- Установленный Docker

Шаг 1: Получение исходного кода
-------------------------------
1. Скачайте архив SQLite: https://www.sqlite.org/2018/sqlite-amalgamation-3260000.zip
2. Распакуйте архив в корневую директорию проекта:
   $ unzip sqlite-amalgamation-3260000.zip

Шаг 2: Подготовка файлов для сборки
-----------------------------------
Убедитесь, что в корневой директории проекта находятся следующие файлы:
- CMakeLists.txt      - файл конфигурации CMake для сборки SQLite
- Dockerfile          - файл для создания Docker образа
- build.sh            - скрипт сборки, который будет запущен в Docker контейнере
- sqlite-amalgamation-3260000/ - директория с исходным кодом SQLite

Шаг 3: Создание Docker образа
-----------------------------
1. Выполните сборку Docker образа:
   $ docker build -t sqlite3-builder .

   Этот процесс выполнит:
   - Загрузку базового образа gcc:12.5.0-bookworm
   - Установку CMake в образ
   - Копирование файлов проекта в образ
   - Настройку рабочей директории для сборки

Шаг 4: Запуск сборки SQLite в Docker контейнере
----------------------------------------------
1. Создайте директорию для выходных файлов (если она еще не существует):
   $ mkdir -p output

2. Запустите Docker контейнер с монтированием локальной директории:
   $ docker run --rm -v "$(pwd)/output:/sqlite3/output" sqlite3-builder

   Параметры команды:
   - --rm              - автоматически удалить контейнер после завершения
   - -v "$(pwd)/output:/sqlite3/output" - монтирование локальной директории output
                        в директорию /sqlite3/output внутри контейнера

Шаг 5: Проверка результатов сборки
---------------------------------
После завершения сборки, в директории output должны появиться следующие файлы:
- build.log         - лог процесса сборки
- libsqlite3.so     - скомпилированная библиотека SQLite
